{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-418be458\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"project_info\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"em\", {\n  class: \"text\"\n}, \"Prev Project\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"title\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"project_info\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"em\", {\n  class: \"text\"\n}, \"Next Project\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"title\"\n};\nexport function render(_ctx, _cache) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"work_project\", _ctx.currentPage > 1 ? 'on' : ''])\n  }, [_ctx.showPrevLink && _ctx.currentPage > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n    to: '/workView' + (_ctx.currentPage - 1),\n    onClick: _cache[0] || (_cache[0] = $event => [_ctx.emitPageChange(_ctx.currentPage - 1), _ctx.emitCountminus()])\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createElementVNode(\"em\", _hoisted_3, _toDisplayString(_ctx.prevProjectInfo), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])) : _createCommentVNode(\"v-if\", true), _ctx.showNextLink && _ctx.currentPage >= 1 && _ctx.currentPage <= _ctx.totalPages ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: '/workView' + (_ctx.currentPage + 1),\n    onClick: _cache[1] || (_cache[1] = $event => [_ctx.emitPageChange(_ctx.currentPage + 1), _ctx.emitCountPlus()])\n  }, {\n    default: _withCtx(() => [_hoisted_5, _createElementVNode(\"em\", _hoisted_6, _toDisplayString(_ctx.nextProjectInfo), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_normalizeClass","_ctx","currentPage","showPrevLink","_hoisted_1","_createVNode","_component_router_link","to","onClick","_cache","$event","emitPageChange","emitCountminus","_hoisted_2","_hoisted_3","_toDisplayString","prevProjectInfo","showNextLink","totalPages","_hoisted_4","emitCountPlus","_hoisted_5","_hoisted_6","nextProjectInfo"],"sources":["C:\\Rico\\portfilo2023\\src\\components\\Layouts\\common\\Pagination.vue"],"sourcesContent":["<template>\r\n    <div class=\"work_project\" :class=\"currentPage > 1 ? 'on' : ''\">\r\n        <div class=\"project_info\" v-if=\"showPrevLink && currentPage > 1\">\r\n            <router-link :to=\"'/workView' + (currentPage - 1)\" @click=\"[emitPageChange(currentPage - 1), emitCountminus()]\">\r\n                <em class=\"text\">Prev Project</em>\r\n                <em class=\"title\">{{ prevProjectInfo }}</em>\r\n            </router-link>\r\n        </div>\r\n        <div class=\"project_info\" v-if=\"showNextLink && currentPage >= 1 && currentPage <= totalPages\">\r\n            <router-link :to=\"'/workView' + (currentPage + 1)\" @click=\"[emitPageChange(currentPage + 1), emitCountPlus()]\">\r\n                <em class=\"text\">Next Project</em>\r\n                <em class=\"title\">{{ nextProjectInfo }}</em>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>  \r\n<script>\r\n\r\nimport { ref, computed,  watch  , onMounted } from 'vue';\r\nimport { useRoute  } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Pagination',\r\n    props: {\r\n        currentPage: {\r\n            type: Number,\r\n            default: 1,\r\n            required: true\r\n        },\r\n        totalPages: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        prevPageData: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        nextPageData: {\r\n            type: Object,\r\n            default: () => ({})\r\n        }\r\n\r\n    },\r\n    setup(props, { emit }) {\r\n        const route = useRoute();\r\n        const store = useStore();\r\n      \r\n        const showPrevLink = computed(() =>  store.state.prevProjectInfo.id !== undefined);\r\n        const showNextLink = computed(() =>  store.state.nextProjectInfo.id !== undefined);\r\n        const nextProjectInfo = ref({});\r\n        const prevProjectInfo = ref({});\r\n     \r\n        const emitCountminus = () =>{\r\n            store.commit('setPrevPageData', {\r\n                ...store.state.prevProjectInfo,\r\n                id: store.state.prevProjectInfo.id - 1\r\n            });\r\n            store.commit('setNextPageData', {\r\n                ...store.state.nextProjectInfo,\r\n                id: store.state.nextProjectInfo.id - 1\r\n            });\r\n        }\r\n        \r\n        const emitCountPlus = () => {\r\n            store.commit('setPrevPageData', {\r\n                ...store.state.prevProjectInfo,\r\n                id: store.state.prevProjectInfo.id + 1\r\n            });\r\n            store.commit('setNextPageData', {\r\n                ...store.state.nextProjectInfo,\r\n                id: store.state.nextProjectInfo.id + 1,\r\n                console.log( store.state.nextProjectInfo );\r\n                project: 'Some Value', // 새로운 속성 추가\r\n            });\r\n        }\r\n        \r\n        const emitPageChange = ( page ) => {\r\n            if (page >= 1 && page <= props.totalPages) {\r\n                emit('page-change', page);\r\n            }\r\n        };\r\n\r\n \r\n        const projectInfoChange = () => {\r\n            nextProjectInfo.value = store.state.prevProjectInfo.project;\r\n            prevProjectInfo.value = store.state.nextProjectInfo.project;\r\n        };\r\n\r\n\r\n        watch(() => store.state.nextPageData, () => {\r\n            projectInfoChange();\r\n        });\r\n\r\n        watch(() => store.state.prevPageData, () => {\r\n            projectInfoChange();\r\n        });\r\n\r\n\r\n        onMounted(() => {\r\n            projectInfoChange();\r\n        });\r\n\r\n        return {\r\n            showPrevLink,\r\n            showNextLink,\r\n            emitPageChange,\r\n            nextProjectInfo,\r\n            prevProjectInfo,\r\n            emitCountminus,\r\n            emitCountPlus\r\n        };\r\n    }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/scss/__variables.scss\";\r\n\r\n.work_project {\r\n    .project_info {\r\n        a {\r\n            padding: vw(50px 100px);\r\n            display: block;\r\n            width: 100%;\r\n            background: url(\"@/assets/images/nextproject_img1.jpg\") 0 0 no-repeat;\r\n            background-size: 100% auto;\r\n            height: vw(260px);\r\n            box-sizing: border-box;\r\n\r\n            em {\r\n                display: block;\r\n            }\r\n\r\n            .text {\r\n                font-size: vw(30px);\r\n                font-weight: 600;\r\n                color: #fff;\r\n            }\r\n\r\n            .title {\r\n                padding-top: vw(30px);\r\n                text-align: center;\r\n                font-size: vw(50px);\r\n                color: #fff;\r\n                font-family: 'Noto Sans Korean';\r\n                font-weight: bold;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.on {\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        .project_info {\r\n            width: 50%;\r\n\r\n            a {\r\n                background-size: auto 100%;\r\n                background-position: center center;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"mappings":";;;;EAEaA,KAAK,EAAC;;gEAEHC,mBAAA,CAAkC;EAA9BD,KAAK,EAAC;AAAM,GAAC,cAAY;;EACzBA,KAAK,EAAC;AAAO;;;EAGpBA,KAAK,EAAC;;gEAEHC,mBAAA,CAAkC;EAA9BD,KAAK,EAAC;AAAM,GAAC,cAAY;;EACzBA,KAAK,EAAC;AAAO;;;uBAV7BE,mBAAA,CAaM;IAbDF,KAAK,EAAAG,eAAA,EAAC,cAAc,EAASC,IAAA,CAAAC,WAAW;MACTD,IAAA,CAAAE,YAAY,IAAIF,IAAA,CAAAC,WAAW,Q,cAA3DH,mBAAA,CAKM,OALNK,UAKM,GAJFC,YAAA,CAGcC,sBAAA;IAHAC,EAAE,iBAAiBN,IAAA,CAAAC,WAAW;IAAQM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,KAAGT,IAAA,CAAAU,cAAc,CAACV,IAAA,CAAAC,WAAW,OAAOD,IAAA,CAAAW,cAAc;;sBACvG,MAAkC,CAAlCC,UAAkC,EAClCf,mBAAA,CAA4C,MAA5CgB,UAA4C,EAAAC,gBAAA,CAAvBd,IAAA,CAAAe,eAAe,iB;;;oEAGZf,IAAA,CAAAgB,YAAY,IAAIhB,IAAA,CAAAC,WAAW,SAASD,IAAA,CAAAC,WAAW,IAAID,IAAA,CAAAiB,UAAU,I,cAA7FnB,mBAAA,CAKM,OALNoB,UAKM,GAJFd,YAAA,CAGcC,sBAAA;IAHAC,EAAE,iBAAiBN,IAAA,CAAAC,WAAW;IAAQM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,KAAGT,IAAA,CAAAU,cAAc,CAACV,IAAA,CAAAC,WAAW,OAAOD,IAAA,CAAAmB,aAAa;;sBACtG,MAAkC,CAAlCC,UAAkC,EAClCvB,mBAAA,CAA4C,MAA5CwB,UAA4C,EAAAP,gBAAA,CAAvBd,IAAA,CAAAsB,eAAe,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}