{"ast":null,"code":"import { ref, computed, watch, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'Pagination',\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1,\n      required: true\n    },\n    totalPages: {\n      type: Number,\n      required: true\n    },\n    prevPageData: {\n      type: Object,\n      default: () => ({})\n    },\n    nextPageData: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props, {\n    emit\n  }) {\n    const route = useRoute();\n    const store = useStore();\n    const showPrevLink = computed(() => store.state.prevProjectInfo.id !== undefined);\n    const showNextLink = computed(() => store.state.nextProjectInfo.id !== undefined);\n    const nextProjectInfo = ref({});\n    const prevProjectInfo = ref({});\n    const emitCountminus = () => {\n      store.commit('setPrevPageData', {\n        ...store.state.prevProjectInfo,\n        id: store.state.prevProjectInfo.id - 1\n      });\n      store.commit('setNextPageData', {\n        ...store.state.nextProjectInfo,\n        id: store.state.nextProjectInfo.id - 1\n      });\n    };\n    const emitCountPlus = () => {\n      store.commit('setNextPageData', {\n        id: store.state.nextProjectInfo.id\n      });\n      // store.commit('setPrevPageData', {\n      //     ...store.state.prevProjectInfo,\n      //     id: store.state.prevProjectInfo.id + 1\n      // });\n\n      // store.commit('setNextPageData', {\n      //     ...store.state.nextProjectInfo,\n      //     id: store.state.nextProjectInfo.id + 1\n      // });\n    };\n\n    const emitPageChange = page => {\n      if (page >= 1 && page <= props.totalPages) {\n        emit('page-change', page);\n      }\n    };\n    const projectInfoChange = () => {\n      nextProjectInfo.value = store.state.prevProjectInfo.project;\n      prevProjectInfo.value = store.state.nextProjectInfo.project;\n    };\n    watch(() => store.state.nextPageData, () => {\n      projectInfoChange();\n    });\n    watch(() => store.state.prevPageData, () => {\n      projectInfoChange();\n    });\n    onMounted(() => {\n      projectInfoChange();\n    });\n    return {\n      showPrevLink,\n      showNextLink,\n      emitPageChange,\n      nextProjectInfo,\n      prevProjectInfo,\n      emitCountminus,\n      emitCountPlus\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","watch","onMounted","useRoute","useStore","name","props","currentPage","type","Number","default","required","totalPages","prevPageData","Object","nextPageData","setup","emit","route","store","showPrevLink","state","prevProjectInfo","id","undefined","showNextLink","nextProjectInfo","emitCountminus","commit","emitCountPlus","emitPageChange","page","projectInfoChange","value","project"],"sources":["C:\\Rico\\portfilo2023\\src\\components\\Layouts\\common\\Pagination.vue"],"sourcesContent":["<template>\r\n    <div class=\"work_project\" :class=\"currentPage > 1 ? 'on' : ''\">\r\n        <div class=\"project_info\" v-if=\"showPrevLink && currentPage > 1\">\r\n            <router-link :to=\"'/workView' + (currentPage - 1)\" @click=\"[emitPageChange(currentPage - 1), emitCountminus()]\">\r\n                <em class=\"text\">Prev Project</em>\r\n                <em class=\"title\">{{ prevProjectInfo }}</em>\r\n            </router-link>\r\n        </div>\r\n        <div class=\"project_info\" v-if=\"showNextLink && currentPage >= 1 && currentPage <= totalPages\">\r\n            <router-link :to=\"'/workView' + (currentPage + 1)\" @click=\"[emitPageChange(currentPage + 1), emitCountPlus()]\">\r\n                <em class=\"text\">Next Project</em>\r\n                <em class=\"title\">{{ nextProjectInfo }}</em>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>  \r\n<script>\r\n\r\nimport { ref, computed,  watch  , onMounted } from 'vue';\r\nimport { useRoute  } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Pagination',\r\n    props: {\r\n        currentPage: {\r\n            type: Number,\r\n            default: 1,\r\n            required: true\r\n        },\r\n        totalPages: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        prevPageData: {\r\n            type: Object,\r\n            default: () => ({})\r\n        },\r\n        nextPageData: {\r\n            type: Object,\r\n            default: () => ({})\r\n        }\r\n\r\n    },\r\n    setup(props, { emit }) {\r\n        const route = useRoute();\r\n        const store = useStore();\r\n      \r\n        const showPrevLink = computed(() =>  store.state.prevProjectInfo.id !== undefined);\r\n        const showNextLink = computed(() =>  store.state.nextProjectInfo.id !== undefined);\r\n        const nextProjectInfo = ref({});\r\n        const prevProjectInfo = ref({});\r\n     \r\n        const emitCountminus = () =>{\r\n            store.commit('setPrevPageData', {\r\n                ...store.state.prevProjectInfo,\r\n                id: store.state.prevProjectInfo.id - 1\r\n            });\r\n            store.commit('setNextPageData', {\r\n                ...store.state.nextProjectInfo,\r\n                id: store.state.nextProjectInfo.id - 1\r\n            });\r\n        }\r\n        \r\n        const emitCountPlus = () => {\r\n            store.commit('setNextPageData',{\r\n                id: store.state.nextProjectInfo.id\r\n            });\r\n            // store.commit('setPrevPageData', {\r\n            //     ...store.state.prevProjectInfo,\r\n            //     id: store.state.prevProjectInfo.id + 1\r\n            // });\r\n\r\n            // store.commit('setNextPageData', {\r\n            //     ...store.state.nextProjectInfo,\r\n            //     id: store.state.nextProjectInfo.id + 1\r\n            // });\r\n        }\r\n        \r\n        const emitPageChange = ( page ) => {\r\n            if (page >= 1 && page <= props.totalPages) {\r\n                emit('page-change', page);\r\n            }\r\n        };\r\n\r\n \r\n        const projectInfoChange = () => {\r\n            nextProjectInfo.value = store.state.prevProjectInfo.project;\r\n            prevProjectInfo.value = store.state.nextProjectInfo.project;\r\n        };\r\n\r\n\r\n        watch(() => store.state.nextPageData, () => {\r\n            projectInfoChange();\r\n        });\r\n\r\n        watch(() => store.state.prevPageData, () => {\r\n            projectInfoChange();\r\n        });\r\n\r\n\r\n        onMounted(() => {\r\n            projectInfoChange();\r\n        });\r\n\r\n        return {\r\n            showPrevLink,\r\n            showNextLink,\r\n            emitPageChange,\r\n            nextProjectInfo,\r\n            prevProjectInfo,\r\n            emitCountminus,\r\n            emitCountPlus\r\n        };\r\n    }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/scss/__variables.scss\";\r\n\r\n.work_project {\r\n    .project_info {\r\n        a {\r\n            padding: vw(50px 100px);\r\n            display: block;\r\n            width: 100%;\r\n            background: url(\"@/assets/images/nextproject_img1.jpg\") 0 0 no-repeat;\r\n            background-size: 100% auto;\r\n            height: vw(260px);\r\n            box-sizing: border-box;\r\n\r\n            em {\r\n                display: block;\r\n            }\r\n\r\n            .text {\r\n                font-size: vw(30px);\r\n                font-weight: 600;\r\n                color: #fff;\r\n            }\r\n\r\n            .title {\r\n                padding-top: vw(30px);\r\n                text-align: center;\r\n                font-size: vw(50px);\r\n                color: #fff;\r\n                font-family: 'Noto Sans Korean';\r\n                font-weight: bold;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.on {\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        .project_info {\r\n            width: 50%;\r\n\r\n            a {\r\n                background-size: auto 100%;\r\n                background-position: center center;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}