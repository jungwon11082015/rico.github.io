{"ast":null,"code":"import { ref, computed, watch, onMounted } from 'vue';\nimport db from '@/firebase/init.js';\nimport { collection, addDoc, doc } from 'firebase/firestore';\nexport default {\n  name: 'contact',\n  props: {},\n  components: {},\n  setup() {\n    const name = ref('');\n    const email = ref('');\n    const phoneNumber = ref('');\n    const projectName = ref('');\n    const nameError = ref('');\n    const emailError = ref('');\n    const phoneError = ref('');\n    const projectError = ref('');\n    const items = ref([]);\n    const isFormValid = computed(() => {\n      console.log(\"???\");\n      nameError.value = '';\n      emailError.value = '';\n      projectError.value = '';\n      phoneError.value = '';\n    });\n    const validateName = () => {\n      if (!name.value) {\n        nameError.value = '성함을 입력해주세요.';\n      } else {\n        nameError.value = '';\n      }\n    };\n    const validateEmail = () => {\n      const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!email.value) {\n        emailError.value = '이메일 입력해주세요.';\n      } else if (!emailPattern.test(email.value)) {\n        emailError.value = '유효한 이메일 주소를 입력해주세요.';\n      } else {\n        emailError.value = '';\n      }\n    };\n    const validatePhoneNumber = () => {\n      const phonePattern = /^\\d{10}$/;\n      if (!phoneNumber.value) {\n        phoneError.value = '휴대폰 번호를 입력해주세요.';\n      } else if (!phonePattern.test(phoneNumber.value)) {\n        phoneError.value = '유효하지 않은 전화 번호. 11자리 숫자를 입력하세요.';\n      } else {\n        phoneError.value = '';\n      }\n    };\n    const validateTextarea = () => {\n      if (projectName.value.trim() === '') {\n        projectError.value = '프로젝트 내용을 입력해주세요.';\n      } else {\n        projectError.value = '';\n      }\n    };\n    const submitForm = async event => {\n      event.preventDefault();\n      try {\n        if (name.value && email.value && phoneNumber.value && projectName.value) {\n          const colRef = collection(db, 'formData');\n          const newData = {\n            name: name.value,\n            email: email.value,\n            phoneNumber: phoneNumber.value,\n            projectName: projectName.value\n          };\n          const docRef = await addDoc(colRef, newData);\n          alert('폼 전송을 완료하였습니다. 감사합니다.');\n          name.value = '';\n          email.value = '';\n          phoneNumber.value = '';\n          projectName.value = '';\n          nameError.value = '';\n        } else {\n          alert('폼을 제대로 입력해주세요.');\n        }\n      } catch (error) {\n        console.error(\"error\", error);\n      }\n    };\n    watch(name, () => {\n      validateName();\n    });\n    watch(email, () => {\n      validateEmail();\n    });\n    watch(phoneNumber, () => {\n      validatePhoneNumber();\n    });\n    watch(projectName, () => {\n      validateTextarea();\n    });\n    onMounted(() => {});\n    return {\n      name,\n      email,\n      phoneNumber,\n      nameError,\n      emailError,\n      phoneError,\n      projectError,\n      projectName,\n      isFormValid,\n      submitForm,\n      validateName,\n      validateEmail,\n      validatePhoneNumber,\n      validateTextarea\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","watch","onMounted","db","collection","addDoc","doc","name","props","components","setup","email","phoneNumber","projectName","nameError","emailError","phoneError","projectError","items","isFormValid","console","log","value","validateName","validateEmail","emailPattern","test","validatePhoneNumber","phonePattern","validateTextarea","trim","submitForm","event","preventDefault","colRef","newData","docRef","alert","error"],"sources":["C:\\Rico\\portfilo2023\\src\\views\\Contact.vue"],"sourcesContent":["<template>\r\n    <div id=\"contact\">\r\n        <div class=\"inner\">\r\n            <h2>REQUIREMENT</h2>\r\n            <h3>어떤 프로젝트를 같이 진행해볼까요?</h3>\r\n            <div class=\"form_box\">\r\n              <form @submit.prevent=\"submitForm\">\r\n                  <div class=\"row\">\r\n                    <div>\r\n                      <label for=\"user-name\">성함</label>\r\n                      <input type=\"text\" id=\"user-name\" v-model=\"name\"  @input=\"validateName\" placeholder=\"이름을 입력해주세요.\">\r\n                      <span v-if=\"nameError\" class=\"error\">{{ nameError }}</span>\r\n                    </div>\r\n                    <div>\r\n                      <label for=\"user-name\">이메일</label>\r\n                      <input type=\"email\" id=\"user-email\" v-model=\"email\" @input=\"validateEmail\" placeholder=\"이메일을 입력해주세요.\">\r\n                      <span v-if=\"emailError\" class=\"error\">{{ emailError }}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row full\">\r\n                    <div class=\"full\">\r\n                      <label for=\"user-phone\">연락처</label>\r\n                      <input type=\"number\" id=\"user-phone\"   v-model=\"phoneNumber\" @input=\"validatePhoneNumber\" placeholder=\"연락처를 입력해주세요.\">\r\n                      <span v-if=\"phoneError\" class=\"error\">{{ phoneError }}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row full\">\r\n                    <div class=\"textarea_box\">\r\n                      <label for=\"user-project\">프로젝트 내용</label>\r\n                      <textarea   id=\"user-project\" v-model=\"projectName\" @input=\"validateTextarea\" placeholder=\"프로젝트 내용을 입력해주세요.\">\r\n                      </textarea>\r\n                      <span v-if=\"projectError\" class=\"error\">{{ projectError }}</span>\r\n                    </div>\r\n                  </div>\r\n                  <button type=\"submit\" class=\"btn-send\">보내기</button>\r\n              </form>\r\n            </div>\r\n         </div>\r\n    </div> \r\n  </template>\r\n    \r\n  <script>\r\n  import { ref, computed , watch, onMounted } from 'vue';\r\n  import db from '@/firebase/init.js';\r\n  import { collection, addDoc, doc } from 'firebase/firestore';\r\n\r\n  export default {\r\n    name: 'contact', \r\n    props: { \r\n    },\r\n    components: {\r\n    },\r\n    setup() {\r\n      const name = ref('');\r\n      const email = ref('');\r\n      const phoneNumber = ref('');\r\n      const projectName = ref('');\r\n\r\n\r\n      const nameError = ref('');\r\n      const emailError = ref('');\r\n      const phoneError = ref('');\r\n      const projectError = ref('');\r\n      \r\n      const items = ref([]);\r\n\r\n\r\n      const isFormValid = computed(() => {\r\n        console.log( \"???\" );\r\n        nameError.value = '';\r\n        emailError.value = '';\r\n        projectError.value = '';\r\n        phoneError.value = '';\r\n      });\r\n\r\n\r\n      const validateName = () => {\r\n        if (!name.value) {\r\n          nameError.value = '성함을 입력해주세요.';\r\n        } else {\r\n          nameError.value = '';\r\n        }\r\n      };\r\n\r\n      const validateEmail = () => {\r\n        const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n        if (!email.value) {\r\n          emailError.value = '이메일 입력해주세요.';\r\n        } else if (!emailPattern.test(email.value)) {\r\n          emailError.value = '유효한 이메일 주소를 입력해주세요.';\r\n        } else {\r\n          emailError.value = '';\r\n        }\r\n      };  \r\n\r\n      const validatePhoneNumber = () => {\r\n        const phonePattern = /^\\d{10}$/; \r\n        if (!phoneNumber.value) {\r\n          phoneError.value = '휴대폰 번호를 입력해주세요.';\r\n        } else if (!phonePattern.test(phoneNumber.value)) {\r\n          phoneError.value = '유효하지 않은 전화 번호. 11자리 숫자를 입력하세요.';\r\n        } else {\r\n          phoneError.value = '';\r\n        }\r\n      };\r\n\r\n      const validateTextarea = () => {\r\n        if (projectName.value.trim() === ''){\r\n          projectError.value = '프로젝트 내용을 입력해주세요.';\r\n        } else {\r\n          projectError.value = '';\r\n        }\r\n      }\r\n\r\n\r\n      const submitForm = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n          if (name.value && email.value  && phoneNumber.value && projectName.value) {\r\n            const colRef = collection(db, 'formData');\r\n            const newData = {\r\n              name: name.value,\r\n              email: email.value,\r\n              phoneNumber: phoneNumber.value,\r\n              projectName: projectName.value,\r\n            };\r\n\r\n            const docRef = await addDoc(colRef, newData);\r\n            alert('폼 전송을 완료하였습니다. 감사합니다.');\r\n            name.value = '';\r\n            email.value = '';\r\n            phoneNumber.value = '';\r\n            projectName.value = '';\r\n            nameError.value = '';\r\n\r\n          } else {\r\n            alert('폼을 제대로 입력해주세요.');\r\n          }\r\n        } catch( error ){\r\n          console.error(  \"error\", error );\r\n        }\r\n     \r\n      };\r\n\r\n      watch(name, () => {\r\n        validateName();\r\n      });\r\n\r\n      watch(email, () => {\r\n        validateEmail();\r\n      });\r\n\r\n      watch(phoneNumber, () => {\r\n        validatePhoneNumber();\r\n      });\r\n\r\n      watch(projectName, () => {\r\n        validateTextarea();\r\n      });\r\n\r\n      onMounted(() => {\r\n      \r\n      });\r\n  \r\n  \r\n      return {\r\n        name,\r\n        email,\r\n        phoneNumber,\r\n        nameError,\r\n        emailError,\r\n        phoneError,\r\n        projectError,\r\n        projectName,\r\n        isFormValid,\r\n        submitForm,\r\n        validateName,\r\n        validateEmail,\r\n        validatePhoneNumber,\r\n        validateTextarea,\r\n      };\r\n    }\r\n  }\r\n  </script>\r\n    \r\n  <style lang=\"scss\" scoped>\r\n  @import \"@/assets/scss/__variables.scss\";\r\n  #contact {\r\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAABnSURBVHja7M5RDYAwDEXRDgmvEocnlrQS2SwUFST9uEfBGWs9c97nbGtDcquqiKhOImLs/UpuzVzWEi1atGjRokWLFi1atGjRokWLFi1atGjRokWLFi1af7Ukz8xWp8z8AAAA//8DAJ4LoEAAlL1nAAAAAElFTkSuQmCC) repeat 0 0;\r\n    animation: bg-scrolling-reverse-7f825807 0.92s infinite;\r\n    animation-timing-function: linear;\r\n    .inner{\r\n      display: block;\r\n      padding: vw( 150px 0 );\r\n      h2{\r\n        text-align: center;\r\n        padding-bottom: vw(20px);\r\n        font-size:vw(30px);\r\n        font-weight: 700;\r\n        color: $dpColor;\r\n      }\r\n      h3{\r\n        padding-bottom: vw(60px);\r\n        text-align: center;\r\n        font-size:vw(40px);\r\n        font-family: 'Noto Sans Korean';\r\n        font-weight: 700;\r\n      }\r\n      .form_box{\r\n        width: vw( 1000px);\r\n        margin: 0 auto;\r\n        .row{\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          >div{\r\n            position: relative;\r\n            width: 50%;\r\n            margin-bottom: vw(50px);\r\n            label{\r\n              display: block;\r\n              margin-bottom: vw(20px);\r\n              font-size:vw(18px);\r\n              font-family: 'Noto Sans Korean';\r\n              font-weight: bold;\r\n            }\r\n            input{\r\n              border:0; \r\n              border-bottom: vw(2px) solid #141414;\r\n              width: 100%;\r\n              padding:vw(14px 40px);\r\n              box-sizing: border-box;\r\n              font-size:vw(20px);\r\n\r\n            }\r\n            textarea{\r\n              border:0;\r\n              width: 100%;\r\n              border-bottom: vw(2px) solid #141414;\r\n              min-height: vw(250px);\r\n              padding:vw(40px);\r\n              box-sizing: border-box;\r\n              font-size:vw(20px);\r\n              line-height: 1.5;\r\n              font-family: 'Noto Sans Korean';\r\n            }\r\n            .error{\r\n              display: block;\r\n              margin:vw(10px 0);\r\n              color: $dpColor;\r\n              font-size:vw(20px);\r\n              font-family: 'Noto Sans Korean';\r\n              font-weight: bold;\r\n            }\r\n            &:first-child{ margin-right: vw(20px);}\r\n            &.full{ margin-right:0; }\r\n          }\r\n          &.full{\r\n            >div{ width: 100%; \r\n              &.textarea_box{ margin-right: 0;}\r\n            }\r\n          }\r\n        }\r\n        .btn-send{\r\n          width: 100%;\r\n          padding:vw(20px 0);\r\n          font-size:vw(28px);\r\n          background: $dpColor;\r\n          color: #fff;\r\n          font-family: 'Noto Sans Korean';\r\n          font-weight: 700;\r\n          transition: all .3s;\r\n          &:hover{\r\n            background: #141414;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n   \r\n    }\r\n \r\n  }\r\n  </style> \r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}